# Default monitor
monitor=,preferred,auto,1

# Apps to be executed on launch
exec-once = waybar &
exec-once = swww init & 
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &
exec-once = udiskie &
exec-once = wal -R --cols16 &
exec-once = hypridle &
exec-once = ~/.config/hypr/scripts/startup.sh &

# Extra files
source = ~/.config/hypr/binds.conf
source = ~/.config/hypr/colors.conf

# Environment variables
env = GDK_BACKEND=wayland,x11 QT_QPA_PLATFORM="wayland;xcb" SDL_VIDEODRIVER=wayland CLUTTER_BACKEND=wayland XDG_CURRENT_DESKTOP=Hyprland XDG_SESSION_TYPE=wayland XDG_SESSION_DESKTOP=Hyprland QT_WAYLAND_DISABLE_WINDOWDECORATION=1 QT_QPA_PLATFORMTHEME=qt5ct

# For AGS
env = XDG_STATE_HOME, $HOME/.local/state
env = ILLOGICAL_IMPULSE_VIRTUAL_ENV, $XDG_STATE_HOME/ags/.venv

# Settings related to input devs
input {
    kb_layout = it
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =
    repeat_rate = 50
    repeat_delay = 300

    numlock_by_default = true
    left_handed = false
    follow_mouse = true
    float_switch_override_focus = false

    follow_mouse = 1

    touchpad {
    disable_while_typing=true
    natural_scroll=true
    clickfinger_behavior=false
    middle_button_emulation=true
    tap-to-click=true
    drag_lock=false
    }

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}

gestures {
    workspace_swipe=true
    workspace_swipe_fingers=3
    workspace_swipe_distance=300
    workspace_swipe_invert=true
    workspace_swipe_min_speed_to_force=30
    workspace_swipe_cancel_ratio=0.5
    workspace_swipe_create_new=true
    workspace_swipe_forever=true
}

general {
    gaps_in = 7
    gaps_out = 13
    border_size = 2
    col.inactive_border = $background
    col.active_border = $inverse_primary

    layout = master
}

decoration {
    rounding = 15

    blur {
        enabled = true
        size = 9
        passes = 3
        ignore_opacity = true
        xray = false
        new_optimizations = true
    }

     #inactive_opacity = 0.8
     #active_opacity = 0.9

    shadow {
        enabled = true
        range = 10
        render_power = 3
        sharp = false
    }

    dim_inactive = false
}

animations {
    enabled = true

    bezier = myBezier, 0.05, 0.9, 0.1, 1.05

    animation = windows, 1, 7, myBezier
    animation = windowsIn, 1, 7, myBezier, slide
    animation = windowsOut, 1, 7, myBezier, slide
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, myBezier, slide
}

dwindle {
    pseudotile = true
    preserve_split = true
}

misc {
    animate_mouse_windowdragging = false
    disable_hyprland_logo = true
    disable_splash_rendering = true
    vfr = true
    vrr = 2
    mouse_move_enables_dpms = true
    middle_click_paste = false
    focus_on_activate = false
    enable_swallow = true
    swallow_regex = ^(Alacritty|kitty|footclient|brave-browser)$
}

windowrulev2 = suppressevent maximize, class:.*

# Remove the right-click menu blurring in Chromium browsers
windowrulev2 = noblur, class:^()$, title:^()$

# Remove the weird pop-up behavior in VSCode
windowrulev2 = stayfocused, title:^()$, class:^()$

# Don't inform about updates 
ecosystem:no_update_news = true

# Blur Waybar
#layerrule = blur, waybar
#layerrule = ignorezero, waybar
#layerrule = ignorealpha 0.5, waybar

# Make file picker windows floating
windowrulev2 = float, center, title:^(Open File|Open|Save|Save As|Export|Import|Choose File), class:^(.*)$
windowrulev2 = float, center, class:(xdg-desktop-portal-gtk)
windowrulev2 = float, center, class:(Xdg-desktop-portal-gtk)
windowrulev2 = noborder, class:(Xdg-desktop-portal-gtk)

# Blur swaync
layerrule = blur, swaync-control-center
layerrule = blur, swaync-notification-window

layerrule = ignorezero, swaync-control-center
layerrule = ignorezero, swaync-notification-window

layerrule = ignorealpha 0.5, swaync-control-center
layerrule = ignorealpha 0.5, swaync-notification-window

# Disable borders for swaync
windowrulev2 = noborder, class:(swaync)
